(function(t){function e(e){for(var n,i,c=e[0],r=e[1],l=e[2],d=0,h=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&h.push(s[i][0]),s[i]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s={app:0},o=[];function c(t){return r.p+"js/"+({}[t]||t)+"."+{"chunk-04ae2260":"850cf675","chunk-0527e1b5":"98095bcc","chunk-2d22996d":"5be97914","chunk-2d72d4c2":"2fdc722c","chunk-3937673e":"141df10b","chunk-ad5e6ef6":"2d2c5818","chunk-beae4256":"e6ec418d"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a={"chunk-04ae2260":1,"chunk-0527e1b5":1,"chunk-2d72d4c2":1,"chunk-3937673e":1,"chunk-ad5e6ef6":1,"chunk-beae4256":1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-04ae2260":"6a6fcee4","chunk-0527e1b5":"878f55c4","chunk-2d22996d":"31d6cfe0","chunk-2d72d4c2":"72a8271c","chunk-3937673e":"eb33c611","chunk-ad5e6ef6":"0ed44dbe","chunk-beae4256":"732f9572"}[t]+".css",s=r.p+n,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var l=o[c],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===n||d===s))return e()}var h=document.getElementsByTagName("style");for(c=0;c<h.length;c++){l=h[c],d=l.getAttribute("data-href");if(d===n||d===s)return e()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=e,u.onerror=function(e){var n=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete i[t],u.parentNode.removeChild(u),a(o)},u.href=s;var g=document.getElementsByTagName("head")[0];g.appendChild(u)})).then((function(){i[t]=0})));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=o);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,r.nc&&d.setAttribute("nonce",r.nc),d.src=c(t);var h=new Error;l=function(e){d.onerror=d.onload=null,clearTimeout(u);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",h.name="ChunkLoadError",h.type=n,h.request=i,a[1](h)}s[t]=void 0}};var u=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var h=0;h<l.length;h++)e(l[h]);var u=d;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2fb7":function(t,e,a){t.exports=a.p+"img/Drawue-logo.4368dcaf.png"},5337:function(t,e,a){"use strict";var n=a("b275"),i=a.n(n);i.a},5452:function(t,e,a){"use strict";var n=a("af35"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Header"),a("router-view")],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"gallery-section"},[n("div",{staticClass:"site-logo"},[n("router-link",{attrs:{to:"/"}},[n("img",{attrs:{src:a("2fb7")}})])],1),n("div",{staticClass:"gallery-link"},[n("router-link",{attrs:{to:"/gallery"}},[t._v(" Gallery ")])],1)]),!1===t.getLoginState?n("div",{staticClass:"auth-section"},[n("router-link",{attrs:{to:"/login"}},[n("div",{staticClass:"sign-in"},[t._v(" Sign In")])]),n("router-link",{attrs:{to:"/register"}},[n("div",{staticClass:"sign-up"},[t._v(" Sign Up")])])],1):1==t.getLoginState?n("div",{staticClass:"profile-section"},[n("div",{staticClass:"user"},[n("div",{staticClass:"profile-pic"},[n("router-link",{attrs:{to:"/profile"}},[n("img",{attrs:{src:"/api/posts/profile/pic/"+t.getProfilePic,alt:"pic"}})])],1),n("div",{staticClass:"username",on:{click:function(e){t.dropDown=!t.dropDown}}},[t._v(" "+t._s(t.getUsername)+" "),n("div",{staticClass:"down-symbol"},[t.dropDown?n("p",[n("i",{staticClass:"arrow up"})]):n("p",[n("i",{staticClass:"arrow down"})])]),n("transition",{attrs:{name:"fade"}},[t.dropDown?n("div",{staticClass:"drop-down"},[n("ul",[n("li",[n("router-link",{attrs:{to:"/profile"}},[n("font-awesome-icon",{attrs:{icon:["fas","user"]}}),t._v(" Profile ")],1)],1),n("li",{staticClass:"logout",on:{click:t.logOut}},[n("font-awesome-icon",{attrs:{icon:["fas","sign-out-alt"]}}),t._v(" Logout")],1)])]):t._e()])],1)])]):t._e()])},c=[],r=a("5530"),l=a("2f62"),d={name:"Header",data:function(){return{dropDown:!1}},computed:Object(r["a"])({},Object(l["b"])(["getLoginState","getProfilePic","getUsername"])),methods:{logOut:function(){this.$store.dispatch("Logout")}}},h=d,u=(a("5452"),a("2877")),g=Object(u["a"])(h,o,c,!1,null,null,null),p=g.exports,v={name:"App",components:{Header:p}},f=v,m=(a("5c0b"),Object(u["a"])(f,i,s,!1,null,null,null)),w=m.exports,C=(a("d3b7"),a("bc3a")),b=a.n(C),k=(a("45fc"),a("8c4f")),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"DrawingBoard"}},[a("div",{staticClass:"tool-bar"},[a("div",{staticClass:"pencil-container",class:{selected:"pencil"==t.toolType},on:{click:function(e){t.toolType="pencil"}}},[a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 268 367",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("rect",{attrs:{x:"152.123",y:"13.9879",width:"52.1453",height:"250.218",transform:"rotate(25.8416 152.123 13.9879)","stroke-width":"20"}}),a("path",{attrs:{d:"M70.3613 277.384L44.1092 296.597L42.8219 264.091L70.3613 277.384Z","stroke-width":"25"}}),a("path",{attrs:{d:"M30.1847 327.878C30.1847 327.878 21.1367 358.188 82.5684 349.594C144 341 139 337 182 327.878C225 318.756 260 349.594 260 349.594","stroke-width":"20"}})])]),a("div",{staticClass:"color-picker"},[a("div",{staticClass:"color-icon",style:{background:t.color},on:{click:function(e){t.showColorPicker=!t.showColorPicker}}}),a("div",{staticClass:"color-picker--container"},[t.showColorPicker?a("color-picker",{attrs:{theme:"light",color:t.color,"sucker-hide":!0},on:{changeColor:t.changeColor}}):t._e()],1)]),a("div",{staticClass:"pencil-size--container"},[a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 123 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("circle",{attrs:{cx:"10",cy:"25",r:"10"}}),a("circle",{attrs:{cx:"46.5",cy:"25.5",r:"17.5"}}),a("circle",{attrs:{cx:"98",cy:"25",r:"25"}})]),a("div",{staticClass:"pencil-stroke--list"},t._l(t.strokeArray,(function(e){return a("div",{key:e,staticClass:"pencil-strokeSize",class:{"selected-child":t.selectedStrokeSize==e},on:{click:function(a){t.selectedStrokeSize=e}}},[a("span",{style:{height:e+"px",width:e+"px"}})])})),0)]),a("div",{staticClass:"shapes-container"},[a("div",{staticClass:"shapes-selector",class:{selected:"shapes"==t.toolType}},[a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 195 202",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{id:"Shapes"}},[a("rect",{attrs:{id:"box",x:"10",y:"62",width:"130",height:"130","stroke-width":"20"}}),a("circle",{attrs:{id:"circle",cx:"120",cy:"75",r:"65","stroke-width":"20"}})])])]),a("div",{staticClass:"shape-type--container"},[a("div",{staticClass:"shape-rectangle",class:{"selected-child":"rectangle"==t.selectedShape&&"shapes"==t.toolType},on:{click:function(e){t.selectedShape="rectangle",t.toolType="shapes"}}},[a("svg",{attrs:{width:"18",height:"18",viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("rect",{attrs:{x:"10",y:"10",width:"130",height:"130","stroke-width":"20"}})])]),a("div",{staticClass:"shape-circle",class:{"selected-child":"circle"==t.selectedShape&&"shapes"==t.toolType},on:{click:function(e){t.selectedShape="circle",t.toolType="shapes"}}},[a("svg",{attrs:{width:"18",height:"18",viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("circle",{attrs:{cx:"75",cy:"75",r:"65","stroke-width":"20"}})])]),a("div",{staticClass:"shape-triangle",class:{"selected-child":"triangle"==t.selectedShape&&"shapes"==t.toolType},on:{click:function(e){t.selectedShape="triangle",t.toolType="shapes"}}},[a("svg",{attrs:{width:"18",height:"18",viewBox:"0 0 130 113",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M17.3686 102.5L65 20L112.631 102.5H17.3686Z","stroke-width":"15"}})])])])]),a("div",{staticClass:"zoom"},[a("div",{staticClass:"zoom-in",on:{click:function(e){return t.zoomIn()}}},[a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 371 320",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{id:"zoom"}},[a("circle",{attrs:{id:"Ellipse 1",cx:"125",cy:"125",r:"109.5","stroke-width":"31"}}),a("line",{attrs:{id:"Line 1",x1:"125.5",y1:"74",x2:"125.5",y2:"177","stroke-width":"31"}}),a("line",{attrs:{id:"Line 2",x1:"74",y1:"125.5",x2:"177",y2:"125.5","stroke-width":"31"}}),a("path",{staticClass:"Rectangle_1",attrs:{d:"M225.443 184L353.97 273.592C363.031 279.908 365.257 292.375 358.94 301.436L357.437 303.593C351.12 312.654 338.654 314.88 329.593 308.563L201.066 218.971L225.443 184Z"}})])])]),a("div",{staticClass:"zoom-out"},[a("div",{on:{click:function(e){return t.zoomOut()}}},[a("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 371 320",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{id:"zoom"}},[a("circle",{attrs:{id:"Ellipse 1",cx:"125",cy:"125",r:"109.5","stroke-width":"31"}}),a("line",{attrs:{id:"Line 2",x1:"74",y1:"125.5",x2:"177",y2:"125.5","stroke-width":"31"}}),a("path",{staticClass:"Rectangle_1",attrs:{d:"M225.443 184L353.97 273.592C363.031 279.908 365.257 292.375 358.94 301.436L357.437 303.593C351.12 312.654 338.654 314.88 329.593 308.563L201.066 218.971L225.443 184Z",fill:"black"}})])])])])]),a("div",{staticClass:"download-btn--container",on:{click:t.saveCanvas}},[a("div",{staticClass:"download-btn"},[a("svg",{attrs:{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{id:"Solid"}},[a("path",{attrs:{d:"m239.029 384.97a24 24 0 0 0 33.942 0l90.509-90.509a24 24 0 0 0 0-33.941 24 24 0 0 0 -33.941 0l-49.539 49.539v-262.059a24 24 0 0 0 -48 0v262.059l-49.539-49.539a24 24 0 0 0 -33.941 0 24 24 0 0 0 0 33.941z"}}),a("path",{attrs:{d:"m464 232a24 24 0 0 0 -24 24v184h-368v-184a24 24 0 0 0 -48 0v192a40 40 0 0 0 40 40h384a40 40 0 0 0 40-40v-192a24 24 0 0 0 -24-24z"}})])])])]),a("div",{staticClass:"clear-container",on:{click:t.clearCanvas}},[a("div",{staticClass:"clear-canvas"},[a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 364 454",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M80.6599 116.5H283.488C306.591 116.5 324.763 136.242 322.852 159.267L302.978 398.767C301.279 419.245 284.162 435 263.614 435H99.1867C78.553 435 61.3957 419.119 59.8043 398.546L41.2776 159.046C39.5025 136.099 57.644 116.5 80.6599 116.5Z","stroke-width":"37"}}),a("path",{attrs:{d:"M333 66H33C23.0589 66 15 74.0589 15 84V110C15 111.105 15.8954 112 17 112H347C348.105 112 349 111.105 349 110V82C349 73.1634 341.837 66 333 66Z","stroke-width":"29"}}),a("path",{attrs:{d:"M134 24V64H231V24C231 19.0294 226.971 15 222 15H143C138.029 15 134 19.0294 134 24Z","stroke-width":"29"}}),a("rect",{attrs:{x:"108.5",y:"166.5",width:"17",height:"207",rx:"8.5","stroke-width":"17"}}),a("rect",{attrs:{x:"173.5",y:"166.5",width:"17",height:"207",rx:"8.5","stroke-width":"17"}}),a("rect",{attrs:{x:"238.5",y:"166.5",width:"17",height:"207",rx:"8.5","stroke-width":"17"}})])])])]),a("div",{staticClass:"canvas-container"},[a("canvas",{attrs:{id:"canvas"},on:{mouseout:t.finishDrawing}})]),a("SaveModule",{attrs:{drawingImage:t.imageDataURL,isOpen:t.saveModule},on:{closingSaveModule:function(e){t.saveModule=!1}}})],1)},x=[],S=(a("99af"),a("b680"),a("fc84")),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade-away"}},[t.isOpen?a("div",{staticClass:"save-module--container"},[a("div",{staticClass:"save-module"},[a("div",{staticClass:"save-module--header"},[a("div",{staticClass:"close-module",on:{click:t.closeModule}},[a("div"),a("div")])]),t.isPublishing?a("div",{staticClass:"publish-module"},[a("div",{staticClass:"drawing-container"},[a("div",{staticClass:"drawing-img"},[a("img",{attrs:{src:t.getCanvasImage,alt:"Canvas Drawing"}})])]),a("div",{staticClass:"drawing-info"},[a("div",{staticClass:"drawing-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.drawing.title,expression:"drawing.title"}],attrs:{type:"text",placeholder:"Title"},domProps:{value:t.drawing.title},on:{input:function(e){e.target.composing||t.$set(t.drawing,"title",e.target.value)}}})]),a("div",{staticClass:"drawing-description"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.drawing.description,expression:"drawing.description"}],attrs:{name:"Description",placeholder:"Description"},domProps:{value:t.drawing.description},on:{input:function(e){e.target.composing||t.$set(t.drawing,"description",e.target.value)}}})]),a("div",{staticClass:"drawing-tags"},[a("div",{staticClass:"tag-container"},[t._l(t.drawing.tags,(function(e,n){return a("div",{key:n,staticClass:"tag"},[a("span",{staticClass:"tag-text"},[t._v(" "+t._s(e))]),a("span",{staticClass:"close-tag",on:{click:function(e){return t.drawing.tags.splice(n,1)}}},[a("div"),t._v(" "),a("div")])])})),a("input",{staticClass:"tag-input",attrs:{type:"text",maxlength:"16",id:"tag-input",placeholder:"Enter a tag"},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.addTag(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTag(e)}]}})],2)]),a("div",{staticClass:"btn",on:{click:t.publishDrawing}},[t._v("Publish")])])]):a("div",{staticClass:"save-type"},[a("span",{staticClass:"choice-container"},[a("span",{staticClass:"choice-collumn"}),a("span",{staticClass:"choice-text"},[t._v("or")])]),a("div",{staticClass:"download-drawing",on:{click:t.downloadImage}},[a("a",{attrs:{href:"#",id:"download"}},[a("svg",{attrs:{"enable-background":"new 0 0 24 24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"m12 18c-.205 0-.401-.084-.542-.232l-5.25-5.5c-.455-.476-.117-1.268.542-1.268h2.75v-5.75c0-.689.561-1.25 1.25-1.25h2.5c.689 0 1.25.561 1.25 1.25v5.75h2.75c.659 0 .997.792.542 1.268l-5.25 5.5c-.141.148-.337.232-.542.232z"}}),a("path",{attrs:{d:"m21 24h-18c-1.654 0-3-1.346-3-3v-5c0-1.654 1.346-3 3-3h1.5c.552 0 1 .448 1 1s-.448 1-1 1h-1.5c-.551 0-1 .449-1 1v5c0 .551.449 1 1 1h18c.551 0 1-.449 1-1v-5c0-.551-.449-1-1-1h-1.5c-.552 0-1-.448-1-1s.448-1 1-1h1.5c1.654 0 3 1.346 3 3v5c0 1.654-1.346 3-3 3z"}})]),t._v(" Download ")])]),a("div",{staticClass:"publish-drawing",on:{click:function(e){t.isPublishing=!0}}},[a("svg",{attrs:{"enable-background":"new 0 0 1000 1000",version:"1.1",viewBox:"0 0 1e3 1e3","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"m498.4 411.5-243.4 235.5h147v294h196v-294h147l-246.6-235.5zm393.6-352.5h-784c-53.9 0-98 44.1-98 98v588c0 53.9 44.1 98 98 98h196v-98h-196v-441h784v441h-196v98h196c53.9 0 98-44.1 98-98v-588c0-53.9-44.1-98-98-98zm-759.5 159.3c-20.3 0-36.8-16.5-36.8-36.8s16.5-36.8 36.8-36.8 36.8 16.5 36.8 36.8-16.5 36.8-36.8 36.8zm98 0c-20.3 0-36.8-16.5-36.8-36.8s16.5-36.8 36.8-36.8 36.8 16.5 36.8 36.8-16.5 36.8-36.8 36.8zm661.5-12.3h-588v-49h588.9l-0.9 49z"}})]),t._v(" Publish ")])])])]):t._e()])},_=[],E=(a("a4d3"),a("e01a"),a("c975"),a("a15b"),a("fb6a"),a("ac1f"),a("25f0"),a("1276"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),{name:"SaveModule",data:function(){return{isPublishing:!1,tags:[],drawing:{title:"",description:"",tags:[]}}},props:{drawingImage:String,isOpen:{type:Boolean,default:!1}},mounted:function(){window.addEventListener("click",(function(t){if(this.isPublishing&&void 0!=this.isPublishing){var e=document.getElementsByClassName("save-module");e.contains(t.target)||this.closeModule}}))},computed:Object(r["a"])(Object(r["a"])({},Object(l["b"])(["getLoginState"])),{},{getCanvasImage:function(){return this.drawingImage}}),methods:{closeModule:function(){this.$emit("closingSaveModule")},downloadImage:function(){var t=document.getElementById("download");t.href=this.drawingImage,t.download="Drawing.png"},addTag:function(t){" "!=t.target.value&&""!=t.target.value&&this.drawing.tags.push(t.target.value.slice(0,-1)),t.target.value=""},publishDrawing:function(){var t=this.drawing.title,e=this.drawing.description,a=this.drawing.tags,n=this.dataURItoBlob(this.drawingImage),i=new FormData(document.forms[0]),s=localStorage.getItem("resolution");s=s.split(",");var o=s[0].toString()+"x"+s[1].toString();console.log(a),i.append("file",n),i.append("title",t),i.append("description",e),i.append("tags",a.join()),i.append("resolution",o),b.a.post("/api/upload/drawing",i,{headers:{"Content-Type":"multipart/form-data; boundary=".concat(i._boundary)}}).then((function(t){console.log(t)})).catch((function(t){console.log(t.response.data)}))},dataURItoBlob:function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var a=t.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return new Blob([n],{type:a})}}}),L=E,P=(a("633f"),Object(u["a"])(L,T,_,!1,null,null,null)),I=P.exports,B={name:"DrawingBoard",components:{colorPicker:S["a"],SaveModule:I},data:function(){return{painting:!1,color:"#59c7f9",showColorPicker:!1,toolType:"pencil",selectedShape:"shapes"==this.toolType?"rectangle":"none",strokeArray:[5,10,15,25,30],ctx:"",canvas:"",savedCanvasData:"",canvasContainer:"",positionX:0,positionY:0,scaledXTransformed:0,scaledYTransformed:0,canvasScale:1,marginVertical:0,saveModule:!1,selectedStrokeSize:5,imageDataURL:""}},created:function(){window.addEventListener("beforeunload",this.localStorageCanvas)},mounted:function(){this.canvasContainer=document.getElementsByClassName("canvas-container");var t=document.getElementsByClassName("tool-bar");this.canvas=document.querySelector("#canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.height=720,this.canvas.width=1080,localStorage.setItem("resolution",[this.canvas.width,this.canvas.height]);var e=document.querySelector("#canvas").getContext("2d");if(e.fillStyle="#fff",e.fillRect(0,0,this.canvas.width,this.canvas.height),null!==localStorage.getItem("imgCanvas")){var a=new Image;a.onload=function(){e.drawImage(a,0,0)},a.src=localStorage.getItem("imgCanvas")}var n=window.innerWidth-this.canvas.getBoundingClientRect().width<=30?53:(window.innerWidth-this.canvas.getBoundingClientRect().width)/2;t[0].setAttribute("style","left:"+(n-15)+"px"),this.canvas.addEventListener("mousedown",this.startDrawing)},methods:{changeColor:function(t){var e=t.rgba,a=e.r,n=e.g,i=e.b,s=e.a;this.color="rgba(".concat(a,", ").concat(n,", ").concat(i,", ").concat(s,")")},startDrawing:function(t){this.painting=!0,this.savedCanvasData=this.ctx.getImageData(0,0,this.canvas.clientWidth,this.canvas.clientHeight);var e=this.getMousePosition(t);this.scaledXTransformed=e[0],this.scaledYTransformed=e[1],this.draw(t),this.canvas.addEventListener("mouseup",this.finishDrawing),this.canvas.addEventListener("mousemove",this.draw)},draw:function(t){if(this.painting){this.ctx.strokeStyle=this.color,this.ctx.lineWidth=this.selectedStrokeSize,this.ctx.lineCap="round";var e=this.getMousePosition(t);switch(this.toolType){case"shapes":this.drawShape(t);break;case"pencil":this.ctx.lineTo(e[0],e[1]),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(e[0],e[1]);break}}},drawShape:function(t){if(this.painting&&"shapes"==this.toolType){this.ctx.putImageData(this.savedCanvasData,0,0);var e=this.getMousePosition(t),a=e[0]-this.scaledXTransformed,n=e[1]-this.scaledYTransformed,i=this.scaledXTransformed,s=this.scaledYTransformed;switch(this.ctx.lineWidth=this.selectedStrokeSize,this.ctx.beginPath(),this.selectedShape){case"rectangle":this.ctx.rect(i,s,a,n);break;case"circle":var o=Math.sqrt(Math.pow(a,2)+Math.pow(n,2));this.ctx.arc(i,s,o,0,2*Math.PI);break;case"triangle":this.ctx.moveTo(i,s+n),this.ctx.lineTo(i+a/2,s),this.ctx.moveTo(i+a/2,s),this.ctx.lineTo(i+a,s+n),this.ctx.moveTo(i+a,s+n),this.ctx.lineTo(i,s+n);break}this.ctx.stroke()}},finishDrawing:function(){this.painting=!1,this.ctx.beginPath()},getMousePosition:function(t){this.positionX=(document.body.scrollWidth-this.canvas.getBoundingClientRect().width)/2,this.positionY=(document.body.scrollHeight-this.canvas.getBoundingClientRect().height)/2;var e=(t.clientX-this.positionX)*this.canvas.width/this.canvas.getBoundingClientRect().width,a=(t.clientY-this.positionY)*this.canvas.height/this.canvas.getBoundingClientRect().height,n=e+window.scrollX/this.canvasScale,i=a+window.scrollY/this.canvasScale;return[n,i]},zoomIn:function(){if(parseFloat(this.canvasScale.toFixed(2))<=2.9){var t=document.getElementById("canvas");this.canvasScale=parseFloat(this.canvasScale.toFixed(2))+.1,t.style.transform="scale("+this.canvasScale+")",parseFloat(this.canvasScale.toFixed(2))>1&&(document.body.style.width=this.canvas.getBoundingClientRect().width+134+"px",document.body.style.height=this.canvas.getBoundingClientRect().height+134+"px",this.marginVertical+=33.5*1.075,this.canvas.style.margin=this.marginVertical+"px 0")}},zoomOut:function(){if(parseFloat(this.canvasScale.toFixed(2))>.1){var t=document.getElementById("canvas");this.canvasScale=parseFloat(this.canvasScale.toFixed(2))-.1,t.style.transform="scale("+this.canvasScale+")",parseFloat(this.canvasScale.toFixed(2))>1&&(document.body.style.width=this.canvas.getBoundingClientRect().width+134+"px",document.body.style.height=this.canvas.getBoundingClientRect().height+134+"px",window.screen.height&&(this.marginVertical-=33.5*1.075),this.canvas.style.margin=this.marginVertical+"px 0")}},localStorageCanvas:function(){localStorage.setItem("imgCanvas",this.canvas.toDataURL())},clearCanvas:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),localStorage.setItem("imgCanvas",this.canvas.toDataURL())},saveCanvas:function(){this.saveModule=!0;var t=this.canvas.toDataURL("image/png");this.imageDataURL=t}}},M=B,D=(a("5337"),Object(u["a"])(M,y,x,!1,null,null,null)),O=D.exports;n["default"].use(k["a"]);var R=[{path:"/",name:"DrawingBoard",component:O},{path:"/login",name:"Login",meta:{requiresNonAuth:!0},component:function(){return a.e("chunk-0527e1b5").then(a.bind(null,"a55b"))}},{path:"/reset/:token",beforeEnter:function(t,e,a){var n=t.params.token;a({path:"/reset",query:{tkn:n}})}},{path:"/reset",name:"Reset",meta:{requiresNonAuth:!0},component:function(){return a.e("chunk-3937673e").then(a.bind(null,"73f1"))}},{path:"/register",name:"Register",meta:{requiresNonAuth:!0},component:function(){return a.e("chunk-beae4256").then(a.bind(null,"73cf"))}},{path:"/verification/:email_token",beforeEnter:function(t,e,a){var n=t.params.email_token;a({path:"/verification",query:{email:n}})}},{path:"/verification",name:"Verification",component:function(){return a.e("chunk-ad5e6ef6").then(a.bind(null,"22ff"))}},{path:"/profile",name:"Profile",meta:{requiresAuth:!0},component:function(){return a.e("chunk-2d72d4c2").then(a.bind(null,"c66d"))}},{path:"/gallery",name:"Gallery",component:function(){return a.e("chunk-04ae2260").then(a.bind(null,"0d77"))}},{path:"/404",alias:"*",name:"Error",component:function(){return a.e("chunk-2d22996d").then(a.bind(null,"dda8"))}}],A=new k["a"]({base:"/",mode:"history",routes:R});A.beforeEach((function(t,e,a){var n;t.matched.some((function(t){return t.meta.requiresAuth}))&&j&&(n=j.getters.getLoginState,n?a():a("login")),t.matched.some((function(t){return t.meta.requiresNonAuth}))?(n=j.getters.getLoginState,n?a("profile"):a()):a()}));var z=A;n["default"].use(l["a"]);var j=new l["a"].Store({state:{isLoggedIn:"",userProfilePic:"",username:"",email:""},mutations:{SET_STATE:function(t,e){t.isLoggedIn=e},SET_PROFILE_PIC:function(t,e){t.userProfilePic=e},SET_USERNAME:function(t,e){t.username=e},SET_EMAIL:function(t,e){t.email=e}},actions:{UpdateLoginState:function(t){var e=t.commit;return new Promise((function(t,a){b.a.get("/api/auth/state").then((function(a){a.data.login?e("SET_STATE",a.data.login):e("SET_STATE",a.data),a.data.path&&e("SET_PROFILE_PIC",a.data.path),a.data.username&&e("SET_USERNAME",a.data.username),a.data.email&&e("SET_EMAIL",a.data.email),t()})).catch((function(t){console.log("dsf"),a(t)}))}))},Logout:function(t){var e=t.commit;b.a.get("/api/auth/logout").then((function(){e("SET_STATE",!1),z.push({path:"/"})})).catch((function(){}))},UpdateProfilePic:function(t){var e=t.commit,a=t.path;e("SET_PROFILE_PIC",a)}},getters:{getLoginState:function(t){return t.isLoggedIn},getProfilePic:function(t){return t.userProfilePic},getUsername:function(t){return t.username}}}),U=a("1dce"),F=a.n(U),N=a("ecee"),q=a("c074"),H=a("ad3d");N["c"].add(q["b"],q["a"]),n["default"].component("font-awesome-icon",H["a"]),n["default"].config.productionTip=!1,n["default"].use(F.a),j.dispatch("UpdateLoginState").then((function(){new n["default"]({router:z,store:j,render:function(t){return t(w)}}).$mount("#app")})).catch((function(t){console.log(t)}))},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),i=a.n(n);i.a},"633f":function(t,e,a){"use strict";var n=a("db67"),i=a.n(n);i.a},"9c0c":function(t,e,a){},af35:function(t,e,a){},b275:function(t,e,a){},db67:function(t,e,a){}});
//# sourceMappingURL=app.31a230d4.js.map