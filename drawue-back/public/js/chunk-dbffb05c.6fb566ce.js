(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dbffb05c"],{"05f9":function(t,e,s){},"0d77":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"carousel-container"},[s("Carousel")],1),s("div",{staticClass:"drawing-list--container"},[s("div",{staticClass:"filter-container"},[s("div",{staticClass:"filter",on:{click:function(e){t.isFiltering=!t.isFiltering}}},[s("div",{staticClass:"filter-icon"},[s("svg",{attrs:{id:"Capa_1","enable-background":"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"}},[s("g",[s("path",{attrs:{d:"m420.404 0h-328.808c-50.506 0-91.596 41.09-91.596 91.596v328.809c0 50.505 41.09 91.595 91.596 91.595h328.809c50.505 0 91.595-41.09 91.595-91.596v-328.808c0-50.506-41.09-91.596-91.596-91.596zm61.596 420.404c0 33.964-27.632 61.596-61.596 61.596h-328.808c-33.964 0-61.596-27.632-61.596-61.596v-328.808c0-33.964 27.632-61.596 61.596-61.596h328.809c33.963 0 61.595 27.632 61.595 61.596z"}}),s("path",{attrs:{d:"m432.733 112.467h-228.461c-6.281-18.655-23.926-32.133-44.672-32.133s-38.391 13.478-44.672 32.133h-35.661c-8.284 0-15 6.716-15 15s6.716 15 15 15h35.662c6.281 18.655 23.926 32.133 44.672 32.133s38.391-13.478 44.672-32.133h228.461c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-273.133 32.133c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.686 17.133 17.133-7.686 17.133-17.133 17.133z"}}),s("path",{attrs:{d:"m432.733 241h-35.662c-6.281-18.655-23.927-32.133-44.672-32.133s-38.39 13.478-44.671 32.133h-228.461c-8.284 0-15 6.716-15 15s6.716 15 15 15h228.461c6.281 18.655 23.927 32.133 44.672 32.133s38.391-13.478 44.672-32.133h35.662c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-80.333 32.133c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.686 17.133 17.133-7.686 17.133-17.133 17.133z"}}),s("path",{attrs:{d:"m432.733 369.533h-164.194c-6.281-18.655-23.926-32.133-44.672-32.133s-38.391 13.478-44.672 32.133h-99.928c-8.284 0-15 6.716-15 15s6.716 15 15 15h99.928c6.281 18.655 23.926 32.133 44.672 32.133s38.391-13.478 44.672-32.133h164.195c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-208.866 32.134c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.685 17.133 17.132-7.686 17.134-17.133 17.134z"}})])])]),s("div",{staticClass:"filter-label"},[t._v(" Filter ")])]),s("transition",{attrs:{name:"expand"}},[t.isFiltering?s("div",{staticClass:"transition-container"},[s("div",{staticClass:"filter-wrapper"},[s("div",{staticClass:"tags-container"},[s("div",{staticClass:"filter-label"},[t._v(" Tags: ")]),s("div",{staticClass:"tag-list"},t._l(t.filterTags,(function(e,a){return s("div",{key:a,staticClass:"tag"},[s("label",{staticClass:"container"},[t._v(t._s(e)+" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedTags,expression:"checkedTags"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.checkedTags)?t._i(t.checkedTags,e)>-1:t.checkedTags},on:{change:function(s){var a=t.checkedTags,i=s.target,n=!!i.checked;if(Array.isArray(a)){var r=e,o=t._i(a,r);i.checked?o<0&&(t.checkedTags=a.concat([r])):o>-1&&(t.checkedTags=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedTags=n}}}),s("span",{staticClass:"checkmark"})])])})),0)]),t.getLoginState?s("div",{staticClass:"personal-container"},[s("div",{staticClass:"filter-label"},[t._v(" Personal: ")]),s("div",{staticClass:"personal-filter"},[s("div",{staticClass:"radio-filter"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.personal,expression:"personal"}],attrs:{type:"radio",id:"personal1",value:"default",name:"filter",checked:""},domProps:{checked:t._q(t.personal,"default")},on:{change:function(e){t.personal="default"}}}),s("label",{attrs:{for:"personal1"}},[t._v("All drawings (default)")])]),s("div",{staticClass:"radio-filter"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.personal,expression:"personal"}],attrs:{type:"radio",id:"personal2",value:"liked",name:"filter"},domProps:{checked:t._q(t.personal,"liked")},on:{change:function(e){t.personal="liked"}}}),s("label",{attrs:{for:"personal2"}},[t._v("Drawings I liked")])]),s("div",{staticClass:"radio-filter"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.personal,expression:"personal"}],attrs:{type:"radio",id:"personal3",value:"commented",name:"filter"},domProps:{checked:t._q(t.personal,"commented")},on:{change:function(e){t.personal="commented"}}}),s("label",{attrs:{for:"personal3"}},[t._v("Drawings I commented on")])])])]):t._e()]),s("div",{staticClass:"filter-button",on:{click:t.changeFilter}},[t._v(" "+t._s(0==t.checkedTags.length?"Filter":t.checkedTags.length+" tags")+" "),s("font-awesome-icon",{attrs:{icon:["fas","filter"]}})],1)]):t._e()]),s("div",{staticClass:"sort-container"},[s("span",{on:{click:function(e){t.sortOpen=!t.sortOpen}}},[t._v(t._s(""==t.sort?"Sort by":"Sorted by: "+t.sort)+" "),s("div",{staticClass:"arrow",class:{up:t.sortOpen,down:!t.sortOpen}})]),s("transition",{attrs:{name:"expand"}},[t.sortOpen?s("div",{staticClass:"sort-list"},[s("ul",[s("li",{on:{click:function(e){return t.sortDrawings("Recent")}}},[t._v(" Recent ")]),s("li",{on:{click:function(e){return t.sortDrawings("Likes")}}},[t._v(" Most Liked ")])])]):t._e()])],1)],1),s("div",{staticClass:"drawing-list--wrapper"},[t._l(t.drawings,(function(e,a){return s("div",{key:a,staticClass:"drawing-container",on:{click:function(s){t.selectedDrawing=e}}},[s("router-link",{attrs:{to:{name:"DrawingPost",params:{username:e.username,drawing:e,drawingID:e._id,liked:e.liked=t.likedPosts.includes(e._id)}}}},[s("div",{staticClass:"drawing-image"},[s("img",{attrs:{src:"/api/posts/drawing/pic/"+e.drawing_path,alt:""}})])])],1)})),t.loading?s("div",{staticClass:"load-posts"},[s("Loader",{attrs:{loaderType:"rain-drop",color:"#88a2b9"}})],1):t._e()],2)]),s("router-view",{key:t.$route.path})],1)},i=[],n=(s("4de4"),s("caad"),s("2532"),s("2909")),r=s("5530"),o=s("3693"),c=s("bc3a"),l=s.n(c),d=s("e33e"),p=s("2f62"),u={name:"Gallery",components:{Carousel:o["default"],Loader:d["a"]},data:function(){return{drawings:[],selectedDrawing:"",skip:0,loading:!1,likedPosts:[],carouselDrawings:[],isFiltering:!1,filterTags:[],checkedTags:[],postLimit:!1,personal:"default",sort:"",sortOpen:!1,axiosUrl:"/api/posts/drawings"}},computed:Object(r["a"])({},Object(p["b"])(["getLoginState"])),mounted:function(){var t=this;this.getDrawings(this.skip),this.getTags(),window.onscroll=function(){var e=document.documentElement.scrollTop+window.innerHeight+20>document.documentElement.offsetHeight;e&&(t.postLimit||(t.skip+=30,t.getDrawings(t.skip)))}},methods:{getDrawings:function(t){var e=this,s=t;if(this.checkedTags)var a=this.checkedTags;this.loading=!0;var i=this.personal,r=this.sort;l.a.post(this.axiosUrl,{skip:s,tags:a,filter:i,sort:r}).then((function(t){var s,a,i,r,o,c;switch(1==t.data.notFound&&(e.postLimit=!0),e.personal){case"liked":c=Object(n["a"])(t.data.drawingPosts),t.data.likedPosts&&(s=e.likedPosts).push.apply(s,Object(n["a"])(t.data.likedPosts)),o=c.filter((function(t){return e.likedPosts.includes(t._id)})),(a=e.drawings).push.apply(a,Object(n["a"])(o));break;case"commented":if(t.data.commentedPosts){var l,d;c=Object(n["a"])(t.data.drawingPosts),t.data.likedPosts&&(l=e.likedPosts).push.apply(l,Object(n["a"])(t.data.likedPosts));var p=Object(n["a"])(t.data.commentedPosts);o=c.filter((function(t){return p.includes(t._id)})),(d=e.drawings).push.apply(d,Object(n["a"])(o))}break;case"default":t.data.drawingPosts&&(i=e.drawings).push.apply(i,Object(n["a"])(t.data.drawingPosts)),t.data.likedPosts&&(r=e.likedPosts).push.apply(r,Object(n["a"])(t.data.likedPosts));break}e.loading=!1})).catch((function(t){console.log(t.response),e.loading=!1}))},getTags:function(){var t=this;l.a.get("/api/posts/get-tags").then((function(e){t.filterTags=e.data.tagArray})).catch((function(t){console.log(t.response)}))},changeFilter:function(){this.postLimit=!1,this.axiosUrl=0!=this.checkedTags.length?"/api/posts/drawings/filter/tags":"/api/posts/drawings",this.drawings=[],this.likedPosts=[],this.skip=0,this.getDrawings(this.skip)},sortDrawings:function(t){this.sortOpen=!this.sortOpen,this.sort=t,this.postLimit=!1,this.drawings=[],this.likedPosts=[],this.skip=0,this.getDrawings(this.skip)}}},g=u,h=(s("159c"),s("2877")),f=Object(h["a"])(g,a,i,!1,null,"0fd246c5",null);e["default"]=f.exports},"159c":function(t,e,s){"use strict";var a=s("5da1"),i=s.n(a);i.a},2532:function(t,e,s){"use strict";var a=s("23e7"),i=s("5a34"),n=s("1d80"),r=s("ab13");a({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(n(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},2909:function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));var a=s("6b75");function i(t){if(Array.isArray(t))return Object(a["a"])(t)}s("a4d3"),s("e01a"),s("d28b"),s("a630"),s("d3b7"),s("3ca3"),s("ddb0");function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var r=s("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||n(t)||Object(r["a"])(t)||o()}},3693:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions},on:{swiper:t.onSwiper,slideChange:t.onSlideChange}},[t._l(t.drawings,(function(e,a){return s("swiper-slide",{key:a},[s("router-link",{attrs:{to:{name:"DrawingPost",params:{username:e.username,drawing:e,drawingID:e._id,liked:e.liked=t.likedPosts.includes(e._id)}}}},[s("img",{staticClass:"carousel-image",attrs:{src:"/api/posts/drawing/pic/"+e.drawing_path,alt:""}})])],1)})),s("div",{staticClass:"swiper-pagination bullet",attrs:{slot:"pagination"},slot:"pagination"})],2)},i=[],n=s("2909"),r=s("6d3b"),o=s("5dc8"),c=s("7212"),l=(s("bbe3"),s("bc3a")),d=s.n(l);r["a"].use([o["a"]]);var p={name:"Carousel",data:function(){return{swiperOptions:{slidesPerView:"3",loop:!0,pagination:{el:".swiper-pagination",clickable:!0}},drawings:[],likedPosts:[]}},components:{Swiper:c["Swiper"],SwiperSlide:c["SwiperSlide"]},mounted:function(){this.getCarouselDrawings()},methods:{getCarouselDrawings:function(){var t=this;d.a.get("/api/posts/drawings/carousel").then((function(e){var s,a;(s=t.drawings).push.apply(s,Object(n["a"])(e.data.drawingPosts)),(a=t.likedPosts).push.apply(a,Object(n["a"])(e.data.likedPosts))})).catch((function(t){console.log(t.response)}))},onSwiper:function(t){console.log(t)},onSlideChange:function(){console.log("slide change")}}},u=p,g=(s("a3fa"),s("2877")),h=Object(g["a"])(u,a,i,!1,null,"2737a06e",null);e["default"]=h.exports},"5a34":function(t,e,s){var a=s("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5da1":function(t,e,s){},a3fa:function(t,e,s){"use strict";var a=s("05f9"),i=s.n(a);i.a},ab13:function(t,e,s){var a=s("b622"),i=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[i]=!1,"/./"[t](e)}catch(a){}}return!1}},caad:function(t,e,s){"use strict";var a=s("23e7"),i=s("4d64").includes,n=s("44d2"),r=s("ae40"),o=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!o},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")}}]);
//# sourceMappingURL=chunk-dbffb05c.6fb566ce.js.map